
# Виджет банковских операций

Виджет для отображения последних успешных банковских операций клиента в личном кабинете банка.

## Цель проекта

Разработать виджет для IT-отдела крупного банка, который позволяет клиентам видеть свои последние банковские операции и их статус в личном кабинете.

## Основные функции

- **Отображение успешных банковских операций**
- **Маскировка номеров карт и счетов** для безопасности
- **Фильтрация операций** по статусу выполнения
- **Сортировка операций** по дате
- **Форматирование дат** в удобный для чтения формат

## Технологии

- Python 3.13+
- Библиотеки: `re`, `datetime`

## Установка

### 1. Клонирование репозитория

```bash
# По HTTPS
git clone https://github.com/Neekkys/Widget_Project.git

# Или по SSH
git clone git@github.com:Neekkys/Widget_Project.git
```

### 2. Переход в директорию проекта
```
cd Widget_Project
```

### 3. Установка зависимостей

```bash
poetry install
```

## Использование

### Основные модули
Основной скрипт для запуска приложения находится в файле main.py:

```bash
python main.py
```
Файл main.py является точкой входа в приложение и демонстрирует работу всех модулей вместе.


#### Модуль `mask.py`

Содержит функции для маскировки конфиденциальных данных:

```python
from mask import get_mask_card_number, get_mask_account

# Маскировка номера карты
card_mask = get_mask_card_number("7000792289606361")
print(card_mask)  # "7000 79** **** 6361"

# Маскировка номера счета
account_mask = get_mask_account("73654108430135874305")
print(account_mask)  # "**4305"
```

#### Модуль `widget.py`

Содержит функции для обработки и форматирования данных:

```python
from widget import mask_account_card, get_date

# Маскировка данных карты/счета
masked_data = mask_account_card("Visa Platinum 7000792289606361")
print(masked_data)  # Замаскированный номер

# Форматирование даты
formatted_date = get_date("2024-01-15T14:30:00Z")
print(formatted_date)  # "15.01.2024"
```

### Модуль `processing.py`

Модуль содержит функции для фильтрации и сортировки банковских операций.

Функция фильтрует список операций по статусу выполнения.

**Параметры:**
- `operation_list` - список словарей с операциями
- `state` - статус для фильтрации (по умолчанию "EXECUTED")

**Внимание! Фильтрация в данный момент осуществляется только по 2 аргументам EXECUTED и CANCELED**

**Возвращает:**
- Новый список словарей, в которых значение ключа 'state' равно аргументу

**Пример использования:**

```python
from processing import filter_by_state

# Пример данных операций
operations = [
    {
        "id": 1,
        "state": "EXECUTED",
        "date": "2024-01-15T14:30:00Z",
        "amount": "1000",
        "currency": "RUB",
        "description": "Перевод организации"
    },
    {
        "id": 2,
        "state": "CANCELED", 
        "date": "2024-01-14T10:15:00Z",
        "amount": "500",
        "currency": "USD",
        "description": "Перевод другу"
    }
]

# Фильтрация выполненных операций
executed_operations = filter_by_state(operations, "EXECUTED")
print(executed_operations)
# [{'id': 1, 'state': 'EXECUTED', 'date': '2024-01-15T14:30:00Z', ...}]
```
## Структура проекта

```
Wiget_Project/
├── .venv/                 # Виртуальное окружение
├── data/                  # Данные проекта
├── src/                   # Исходный код
│   ├── __init__.py        # Пакет Python
│   ├── masks.py           # Функции маскировки карт и счетов
│   ├── processing.py      # Фильтрация и сортировка операций
│   └── widget.py          # Основные функции виджета
├── tests/                 # Тесты
├── main.py                # Главный скрипт для запуска
├── README.md              # Документация
├── pyproject.toml         # Конфигурация Poetry
├── poetry.lock            # Lock-файл зависимостей
└── .flake8                # Конфигурация линтера
```

## Разработка

Проект находится в активной разработке. Для внесения изменений:

1. Сделайте форк репозитория
2. Создайте feature branch (`git checkout -b feature/proposed_changes`)
3. Закоммитьте изменения (`git commit -m 'Add proposed changes'`)
4. Запушьте branch (`git push origin feature/proposed_changes`)
5. Откройте Pull Request

## Лицензия
```
Этот проект является обучающим и на данный момент не требует лицензии.
```